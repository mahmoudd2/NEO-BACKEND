"use strict";

exports.up = knex => knex.schema.createTable('SalesTransaction', t => {
  t.increments('id').primary();
  t.integer('ProductID').notNullable().references('id').inTable('Product').onDelete('CASCADE');
  t.integer('WarehouseID').notNullable().references('id').inTable('Warehouse');
  t.integer('Quantity').notNullable();
  t.decimal('PricePerUnit', 10, 2).notNullable();
  t.decimal('TotalAmount', 10, 2).notNullable();
  t.string('CustomerName', 255).notNullable();
  t.timestamp('TransactionDate').notNullable().defaultTo(knex.fn.now());
  t.integer('CreatedBy').references('id').inTable('UserAccount').onDelete('CASCADE');
});
exports.down = knex => knex.schema.dropTableIfExists('SalesTransaction');
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwidXAiLCJrbmV4Iiwic2NoZW1hIiwiY3JlYXRlVGFibGUiLCJ0IiwiaW5jcmVtZW50cyIsInByaW1hcnkiLCJpbnRlZ2VyIiwibm90TnVsbGFibGUiLCJyZWZlcmVuY2VzIiwiaW5UYWJsZSIsIm9uRGVsZXRlIiwiZGVjaW1hbCIsInN0cmluZyIsInRpbWVzdGFtcCIsImRlZmF1bHRUbyIsImZuIiwibm93IiwiZG93biIsImRyb3BUYWJsZUlmRXhpc3RzIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2RiL21pZ3JhdGlvbnMvMjAyNTA4MTExMTA3NTlfY3JlYXRlX3NhbGVzX3RyYW5zYWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydHMudXAgPSAoa25leCkgPT5cbiAga25leC5zY2hlbWEuY3JlYXRlVGFibGUoJ1NhbGVzVHJhbnNhY3Rpb24nLCAodCkgPT4ge1xuICAgIHQuaW5jcmVtZW50cygnaWQnKS5wcmltYXJ5KCk7XG4gICAgdC5pbnRlZ2VyKCdQcm9kdWN0SUQnKS5ub3ROdWxsYWJsZSgpLnJlZmVyZW5jZXMoJ2lkJykuaW5UYWJsZSgnUHJvZHVjdCcpLm9uRGVsZXRlKCdDQVNDQURFJyk7XG4gICAgdC5pbnRlZ2VyKCdXYXJlaG91c2VJRCcpLm5vdE51bGxhYmxlKCkucmVmZXJlbmNlcygnaWQnKS5pblRhYmxlKCdXYXJlaG91c2UnKTtcbiAgICB0LmludGVnZXIoJ1F1YW50aXR5Jykubm90TnVsbGFibGUoKTtcbiAgICB0LmRlY2ltYWwoJ1ByaWNlUGVyVW5pdCcsIDEwLCAyKS5ub3ROdWxsYWJsZSgpO1xuICAgIHQuZGVjaW1hbCgnVG90YWxBbW91bnQnLCAxMCwgMikubm90TnVsbGFibGUoKTtcbiAgICB0LnN0cmluZygnQ3VzdG9tZXJOYW1lJywgMjU1KS5ub3ROdWxsYWJsZSgpO1xuICAgIHQudGltZXN0YW1wKCdUcmFuc2FjdGlvbkRhdGUnKS5ub3ROdWxsYWJsZSgpLmRlZmF1bHRUbyhrbmV4LmZuLm5vdygpKTtcbiAgICB0LmludGVnZXIoJ0NyZWF0ZWRCeScpLnJlZmVyZW5jZXMoJ2lkJykuaW5UYWJsZSgnVXNlckFjY291bnQnKS5vbkRlbGV0ZSgnQ0FTQ0FERScpO1xuICB9KTtcblxuZXhwb3J0cy5kb3duID0gKGtuZXgpID0+IGtuZXguc2NoZW1hLmRyb3BUYWJsZUlmRXhpc3RzKCdTYWxlc1RyYW5zYWN0aW9uJyk7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUFBLE9BQU8sQ0FBQ0MsRUFBRSxHQUFJQyxJQUFJLElBQ2hCQSxJQUFJLENBQUNDLE1BQU0sQ0FBQ0MsV0FBVyxDQUFDLGtCQUFrQixFQUFHQyxDQUFDLElBQUs7RUFDakRBLENBQUMsQ0FBQ0MsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDQyxPQUFPLENBQUMsQ0FBQztFQUM1QkYsQ0FBQyxDQUFDRyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUNDLFdBQVcsQ0FBQyxDQUFDLENBQUNDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQ0MsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDQyxRQUFRLENBQUMsU0FBUyxDQUFDO0VBQzVGUCxDQUFDLENBQUNHLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQ0MsV0FBVyxDQUFDLENBQUMsQ0FBQ0MsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDQyxPQUFPLENBQUMsV0FBVyxDQUFDO0VBQzVFTixDQUFDLENBQUNHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQ0MsV0FBVyxDQUFDLENBQUM7RUFDbkNKLENBQUMsQ0FBQ1EsT0FBTyxDQUFDLGNBQWMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUNKLFdBQVcsQ0FBQyxDQUFDO0VBQzlDSixDQUFDLENBQUNRLE9BQU8sQ0FBQyxhQUFhLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDSixXQUFXLENBQUMsQ0FBQztFQUM3Q0osQ0FBQyxDQUFDUyxNQUFNLENBQUMsY0FBYyxFQUFFLEdBQUcsQ0FBQyxDQUFDTCxXQUFXLENBQUMsQ0FBQztFQUMzQ0osQ0FBQyxDQUFDVSxTQUFTLENBQUMsaUJBQWlCLENBQUMsQ0FBQ04sV0FBVyxDQUFDLENBQUMsQ0FBQ08sU0FBUyxDQUFDZCxJQUFJLENBQUNlLEVBQUUsQ0FBQ0MsR0FBRyxDQUFDLENBQUMsQ0FBQztFQUNyRWIsQ0FBQyxDQUFDRyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUNFLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQ0MsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDQyxRQUFRLENBQUMsU0FBUyxDQUFDO0FBQ3BGLENBQUMsQ0FBQztBQUVKWixPQUFPLENBQUNtQixJQUFJLEdBQUlqQixJQUFJLElBQUtBLElBQUksQ0FBQ0MsTUFBTSxDQUFDaUIsaUJBQWlCLENBQUMsa0JBQWtCLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=