"use strict";

exports.up = async knex => {
  await knex.schema.createTable('Role', t => {
    t.increments('id').primary();
    t.string('Name', 100).notNullable();
    t.text('Description');
  });
  await knex.schema.createTable('permission', t => {
    t.increments('id').primary();
    t.string('Name', 100).notNullable();
    t.text('Description');
  });
  await knex.schema.createTable('rolePermission', t => {
    t.increments('id').primary();
    t.integer('roleID').notNullable().references('id').inTable('Role');
    t.integer('permissionID').notNullable().references('id').inTable('permission');
  });
};
exports.down = async knex => {
  await knex.schema.dropTableIfExists('rolePermission');
  await knex.schema.dropTableIfExists('permission');
  await knex.schema.dropTableIfExists('Role');
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwidXAiLCJrbmV4Iiwic2NoZW1hIiwiY3JlYXRlVGFibGUiLCJ0IiwiaW5jcmVtZW50cyIsInByaW1hcnkiLCJzdHJpbmciLCJub3ROdWxsYWJsZSIsInRleHQiLCJpbnRlZ2VyIiwicmVmZXJlbmNlcyIsImluVGFibGUiLCJkb3duIiwiZHJvcFRhYmxlSWZFeGlzdHMiXSwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvZGIvbWlncmF0aW9ucy8yMDI1MDgxMTExMDc1MF9jcmVhdGVfcm9sZXNfcGVybWlzc2lvbnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cy51cCA9IGFzeW5jIChrbmV4KSA9PiB7XG4gIGF3YWl0IGtuZXguc2NoZW1hLmNyZWF0ZVRhYmxlKCdSb2xlJywgKHQpID0+IHtcbiAgICB0LmluY3JlbWVudHMoJ2lkJykucHJpbWFyeSgpO1xuICAgIHQuc3RyaW5nKCdOYW1lJywgMTAwKS5ub3ROdWxsYWJsZSgpO1xuICAgIHQudGV4dCgnRGVzY3JpcHRpb24nKTtcbiAgfSk7XG5cbiAgYXdhaXQga25leC5zY2hlbWEuY3JlYXRlVGFibGUoJ3Blcm1pc3Npb24nLCAodCkgPT4ge1xuICAgIHQuaW5jcmVtZW50cygnaWQnKS5wcmltYXJ5KCk7XG4gICAgdC5zdHJpbmcoJ05hbWUnLCAxMDApLm5vdE51bGxhYmxlKCk7XG4gICAgdC50ZXh0KCdEZXNjcmlwdGlvbicpO1xuICB9KTtcblxuICBhd2FpdCBrbmV4LnNjaGVtYS5jcmVhdGVUYWJsZSgncm9sZVBlcm1pc3Npb24nLCAodCkgPT4ge1xuICAgIHQuaW5jcmVtZW50cygnaWQnKS5wcmltYXJ5KCk7XG4gICAgdC5pbnRlZ2VyKCdyb2xlSUQnKS5ub3ROdWxsYWJsZSgpLnJlZmVyZW5jZXMoJ2lkJykuaW5UYWJsZSgnUm9sZScpO1xuICAgIHQuaW50ZWdlcigncGVybWlzc2lvbklEJykubm90TnVsbGFibGUoKS5yZWZlcmVuY2VzKCdpZCcpLmluVGFibGUoJ3Blcm1pc3Npb24nKTtcbiAgfSk7XG59O1xuXG5leHBvcnRzLmRvd24gPSBhc3luYyAoa25leCkgPT4ge1xuICBhd2FpdCBrbmV4LnNjaGVtYS5kcm9wVGFibGVJZkV4aXN0cygncm9sZVBlcm1pc3Npb24nKTtcbiAgYXdhaXQga25leC5zY2hlbWEuZHJvcFRhYmxlSWZFeGlzdHMoJ3Blcm1pc3Npb24nKTtcbiAgYXdhaXQga25leC5zY2hlbWEuZHJvcFRhYmxlSWZFeGlzdHMoJ1JvbGUnKTtcbn07XG4iXSwibWFwcGluZ3MiOiI7O0FBQUFBLE9BQU8sQ0FBQ0MsRUFBRSxHQUFHLE1BQU9DLElBQUksSUFBSztFQUMzQixNQUFNQSxJQUFJLENBQUNDLE1BQU0sQ0FBQ0MsV0FBVyxDQUFDLE1BQU0sRUFBR0MsQ0FBQyxJQUFLO0lBQzNDQSxDQUFDLENBQUNDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQ0MsT0FBTyxDQUFDLENBQUM7SUFDNUJGLENBQUMsQ0FBQ0csTUFBTSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQ0MsV0FBVyxDQUFDLENBQUM7SUFDbkNKLENBQUMsQ0FBQ0ssSUFBSSxDQUFDLGFBQWEsQ0FBQztFQUN2QixDQUFDLENBQUM7RUFFRixNQUFNUixJQUFJLENBQUNDLE1BQU0sQ0FBQ0MsV0FBVyxDQUFDLFlBQVksRUFBR0MsQ0FBQyxJQUFLO0lBQ2pEQSxDQUFDLENBQUNDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQ0MsT0FBTyxDQUFDLENBQUM7SUFDNUJGLENBQUMsQ0FBQ0csTUFBTSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQ0MsV0FBVyxDQUFDLENBQUM7SUFDbkNKLENBQUMsQ0FBQ0ssSUFBSSxDQUFDLGFBQWEsQ0FBQztFQUN2QixDQUFDLENBQUM7RUFFRixNQUFNUixJQUFJLENBQUNDLE1BQU0sQ0FBQ0MsV0FBVyxDQUFDLGdCQUFnQixFQUFHQyxDQUFDLElBQUs7SUFDckRBLENBQUMsQ0FBQ0MsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDQyxPQUFPLENBQUMsQ0FBQztJQUM1QkYsQ0FBQyxDQUFDTSxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUNGLFdBQVcsQ0FBQyxDQUFDLENBQUNHLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQ0MsT0FBTyxDQUFDLE1BQU0sQ0FBQztJQUNsRVIsQ0FBQyxDQUFDTSxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUNGLFdBQVcsQ0FBQyxDQUFDLENBQUNHLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQ0MsT0FBTyxDQUFDLFlBQVksQ0FBQztFQUNoRixDQUFDLENBQUM7QUFDSixDQUFDO0FBRURiLE9BQU8sQ0FBQ2MsSUFBSSxHQUFHLE1BQU9aLElBQUksSUFBSztFQUM3QixNQUFNQSxJQUFJLENBQUNDLE1BQU0sQ0FBQ1ksaUJBQWlCLENBQUMsZ0JBQWdCLENBQUM7RUFDckQsTUFBTWIsSUFBSSxDQUFDQyxNQUFNLENBQUNZLGlCQUFpQixDQUFDLFlBQVksQ0FBQztFQUNqRCxNQUFNYixJQUFJLENBQUNDLE1BQU0sQ0FBQ1ksaUJBQWlCLENBQUMsTUFBTSxDQUFDO0FBQzdDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=