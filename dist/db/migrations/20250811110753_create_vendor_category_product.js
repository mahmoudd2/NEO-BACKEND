"use strict";

exports.up = async knex => {
  await knex.schema.createTable('Vendor', t => {
    t.increments('id').primary();
    t.string('FirstName', 100).notNullable();
    t.string('LastName', 100).notNullable();
    t.string('Email', 255).notNullable().unique();
    t.string('PhoneNum', 50).notNullable();
    t.decimal('Rating', 2, 1).checkBetween([0.0, 9.9]);
  });
  await knex.schema.createTable('Category', t => {
    t.increments('id').primary();
    t.string('Name', 100).notNullable().unique();
  });
  await knex.schema.createTable('Product', t => {
    t.increments('id').primary();
    t.integer('VendorID').notNullable().references('id').inTable('Vendor').onDelete('CASCADE');
    t.integer('CategoryID').notNullable().references('id').inTable('Category');
    t.integer('CompanyID').notNullable().references('id').inTable('Company').onDelete('CASCADE');
    t.string('Name', 255).notNullable();
    t.string('Barcode', 100).notNullable().unique();
    t.text('ImageURL');
    t.date('ExpiryDate').notNullable();
    t.text('Description');
  });
};
exports.down = async knex => {
  await knex.schema.dropTableIfExists('Product');
  await knex.schema.dropTableIfExists('Category');
  await knex.schema.dropTableIfExists('Vendor');
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwidXAiLCJrbmV4Iiwic2NoZW1hIiwiY3JlYXRlVGFibGUiLCJ0IiwiaW5jcmVtZW50cyIsInByaW1hcnkiLCJzdHJpbmciLCJub3ROdWxsYWJsZSIsInVuaXF1ZSIsImRlY2ltYWwiLCJjaGVja0JldHdlZW4iLCJpbnRlZ2VyIiwicmVmZXJlbmNlcyIsImluVGFibGUiLCJvbkRlbGV0ZSIsInRleHQiLCJkYXRlIiwiZG93biIsImRyb3BUYWJsZUlmRXhpc3RzIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2RiL21pZ3JhdGlvbnMvMjAyNTA4MTExMTA3NTNfY3JlYXRlX3ZlbmRvcl9jYXRlZ29yeV9wcm9kdWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydHMudXAgPSBhc3luYyAoa25leCkgPT4ge1xuICBhd2FpdCBrbmV4LnNjaGVtYS5jcmVhdGVUYWJsZSgnVmVuZG9yJywgKHQpID0+IHtcbiAgICB0LmluY3JlbWVudHMoJ2lkJykucHJpbWFyeSgpO1xuICAgIHQuc3RyaW5nKCdGaXJzdE5hbWUnLCAxMDApLm5vdE51bGxhYmxlKCk7XG4gICAgdC5zdHJpbmcoJ0xhc3ROYW1lJywgMTAwKS5ub3ROdWxsYWJsZSgpO1xuICAgIHQuc3RyaW5nKCdFbWFpbCcsIDI1NSkubm90TnVsbGFibGUoKS51bmlxdWUoKTtcbiAgICB0LnN0cmluZygnUGhvbmVOdW0nLCA1MCkubm90TnVsbGFibGUoKTtcbiAgICB0LmRlY2ltYWwoJ1JhdGluZycsIDIsIDEpLmNoZWNrQmV0d2VlbihbMC4wLCA5LjldKTtcbiAgfSk7XG5cbiAgYXdhaXQga25leC5zY2hlbWEuY3JlYXRlVGFibGUoJ0NhdGVnb3J5JywgKHQpID0+IHtcbiAgICB0LmluY3JlbWVudHMoJ2lkJykucHJpbWFyeSgpO1xuICAgIHQuc3RyaW5nKCdOYW1lJywgMTAwKS5ub3ROdWxsYWJsZSgpLnVuaXF1ZSgpO1xuICB9KTtcblxuICBhd2FpdCBrbmV4LnNjaGVtYS5jcmVhdGVUYWJsZSgnUHJvZHVjdCcsICh0KSA9PiB7XG4gICAgdC5pbmNyZW1lbnRzKCdpZCcpLnByaW1hcnkoKTtcbiAgICB0LmludGVnZXIoJ1ZlbmRvcklEJykubm90TnVsbGFibGUoKS5yZWZlcmVuY2VzKCdpZCcpLmluVGFibGUoJ1ZlbmRvcicpLm9uRGVsZXRlKCdDQVNDQURFJyk7XG4gICAgdC5pbnRlZ2VyKCdDYXRlZ29yeUlEJykubm90TnVsbGFibGUoKS5yZWZlcmVuY2VzKCdpZCcpLmluVGFibGUoJ0NhdGVnb3J5Jyk7XG4gICAgdC5pbnRlZ2VyKCdDb21wYW55SUQnKS5ub3ROdWxsYWJsZSgpLnJlZmVyZW5jZXMoJ2lkJykuaW5UYWJsZSgnQ29tcGFueScpLm9uRGVsZXRlKCdDQVNDQURFJyk7XG4gICAgdC5zdHJpbmcoJ05hbWUnLCAyNTUpLm5vdE51bGxhYmxlKCk7XG4gICAgdC5zdHJpbmcoJ0JhcmNvZGUnLCAxMDApLm5vdE51bGxhYmxlKCkudW5pcXVlKCk7XG4gICAgdC50ZXh0KCdJbWFnZVVSTCcpO1xuICAgIHQuZGF0ZSgnRXhwaXJ5RGF0ZScpLm5vdE51bGxhYmxlKCk7XG4gICAgdC50ZXh0KCdEZXNjcmlwdGlvbicpO1xuICB9KTtcbn07XG5cbmV4cG9ydHMuZG93biA9IGFzeW5jIChrbmV4KSA9PiB7XG4gIGF3YWl0IGtuZXguc2NoZW1hLmRyb3BUYWJsZUlmRXhpc3RzKCdQcm9kdWN0Jyk7XG4gIGF3YWl0IGtuZXguc2NoZW1hLmRyb3BUYWJsZUlmRXhpc3RzKCdDYXRlZ29yeScpO1xuICBhd2FpdCBrbmV4LnNjaGVtYS5kcm9wVGFibGVJZkV4aXN0cygnVmVuZG9yJyk7XG59O1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBQSxPQUFPLENBQUNDLEVBQUUsR0FBRyxNQUFPQyxJQUFJLElBQUs7RUFDM0IsTUFBTUEsSUFBSSxDQUFDQyxNQUFNLENBQUNDLFdBQVcsQ0FBQyxRQUFRLEVBQUdDLENBQUMsSUFBSztJQUM3Q0EsQ0FBQyxDQUFDQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUNDLE9B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